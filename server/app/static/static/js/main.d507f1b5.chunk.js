(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,n){e.exports={nav:"NavComponents_nav__3FUJj",navContainer:"NavComponents_navContainer__bRMVV",profileImage:"NavComponents_profileImage__1Tviu",leftContainer:"NavComponents_leftContainer__1_GuH",rightContainer:"NavComponents_rightContainer__9ezMN",profileDropdownArrow:"NavComponents_profileDropdownArrow__TbD6Z",inactive:"NavComponents_inactive__ZFvZ-",active:"NavComponents_active__3aF60",profileDropdown:"NavComponents_profileDropdown__WWr6b",dropdown:"NavComponents_dropdown__1yyLD",hidden:"NavComponents_hidden__1kWky",dropdownContainer:"NavComponents_dropdownContainer__AaauV",dropdownListItem:"NavComponents_dropdownListItem__3gLdf",slideout:"NavComponents_slideout__sh2hq",dropdownLink:"NavComponents_dropdownLink__2csv5",logo:"NavComponents_logo__1h2HM"}},157:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),i=n.n(o),s=(n(89),n(17)),c=n(14),l=n(32),u=n(4),m=function(e){var t=e.path,n=e.component;return Object(u.d)((function(e){return e.session.userId}))?r.a.createElement(c.b,{path:t,component:n}):r.a.createElement(c.a,{to:"/login"})},d=n(6),p=n.n(d),f=n(10),g=n(8),_={userInfo:null,map:null};var E=n(49),b=n(80),v=n(31),O=n(28),h=n.n(O);var N=function(e,t){return{type:"recordings/DELETE_PROFILE_RECORDING",recordingId:e,userId:t}},y=function(e,t,n,a){var r=h.a.get("XSRF-TOKEN");return function(){var o=Object(f.a)(p.a.mark((function o(i){var s;return p.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,fetch("/api/recordings/",{method:"POST",headers:{"X-CSRFToken":r,"Content-Type":"application/json"},body:JSON.stringify({profileId:e,url:t,title:n,description:a,csrfToken:r})});case 2:return s=o.sent,o.next=5,s.json();case 5:return s.data=o.sent,s.ok&&(i({type:"recordings/ADD_RECORDING",recording:s.data.recording}),i({type:"recordings/ADD_PROFILE_RECORDING",profileRecording:s.data.profileRecording})),o.abrupt("return",s);case 8:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},C=function(e,t,n,a,r){var o=h.a.get("XSRF-TOKEN");return function(){var i=Object(f.a)(p.a.mark((function i(s){var c;return p.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch("/api/recordings/".concat(t,"/profiles/").concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":o},body:JSON.stringify({url:n,title:a,description:r,csrfToken:o})});case 2:return c=i.sent,i.next=5,c.json();case 5:return c.data=i.sent,c.ok&&s({type:"recordings/UPDATE_PROFILE_RECORDING",profileRecording:c.data.profileRecording}),i.abrupt("return",c);case 8:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()};var w=h.a.get("XSRF-TOKEN"),I="session/LOGIN",R="session/LOGOUT",j=function(e){return{type:"session/SET_RECORDING_FORM_ID",id:e}},S=function(e,t){return function(){var n=Object(f.a)(p.a.mark((function n(a){var r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/session/login",{method:"PUT",headers:{"X-CSRFToken":w,"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,csrfToken:w})});case 2:return r=n.sent,n.next=5,r.json();case 5:return r.data=n.sent,r.ok&&a((o=r.data.id,{type:I,userId:o})),n.abrupt("return",r);case 8:case"end":return n.stop()}var o}),n)})));return function(e){return n.apply(this,arguments)}}()},T={userId:null,recordingFormId:null};var P=function(e){return{type:"users/SET_USERS",users:e}},L=function(e,t,n,a,r,o,i,s,c){var l=h.a.get("XSRF-TOKEN");return function(){var u=Object(f.a)(p.a.mark((function u(m){var d;return p.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,fetch("/api/users/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":l},body:JSON.stringify({first_name:e,last_name:t,email:n,password:a,confirm_password:r,date_of_birth:o.toISOString().split("T")[0],location:i,lat:s,lng:c,csrfToken:l})});case 2:return d=u.sent,u.next=5,d.json();case 5:if(d.data=u.sent,!d.ok){u.next=10;break}return m({type:"users/SIGNUP_USER",user:d.data}),u.next=10,m(S(n,a));case 10:return u.abrupt("return",d);case 11:case"end":return u.stop()}}),u)})));return function(e){return u.apply(this,arguments)}}()},D=function(e,t,n,a,r,o,i,s){var c=h.a.get("XSRF-TOKEN");return function(){var l=Object(f.a)(p.a.mark((function l(u){var m;return p.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,fetch("/api/users/".concat(e,"/overview/"),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":c},body:JSON.stringify({date_of_birth:t.toISOString().split("T")[0],instruments:n,styles:a,location:r,validLocation:s,lat:o,lng:i,csrfToken:c})});case 2:return m=l.sent,l.next=5,m.json();case 5:return m.data=l.sent,m.ok&&u({type:"users/UPDATE_OVERVIEW",userInfo:m.data}),l.abrupt("return",m);case 8:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}()},F=function(e,t){var n=h.a.get("XSRF-TOKEN");return function(){var a=Object(f.a)(p.a.mark((function a(r){var o;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/users/".concat(e,"/bio/"),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":n},body:JSON.stringify({bio:t,csrfToken:n})});case 2:return o=a.sent,a.next=5,o.json();case 5:return o.data=a.sent,o.ok&&r({type:"users/UPDATE_BIO",userInfo:o.data}),a.abrupt("return",o);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};var A=function(e){return{type:"errors/SET_ERRORS",errors:e}};var x=n(50),k=n.n(x),B=Object(a.createContext)(),M=n(7),U=n.n(M),G=(n(96),function(){var e=Object(a.useContext)(B),t=e.values,n=t.firstName,o=t.lastName,i=t.email,s=t.password,c=t.confirmPassword,l=t.dateOfBirth,u=e.handlers,m=u.setFirstName,d=u.setLastName,p=u.setEmail,f=u.setPassword,g=u.setConfirmPassword,_=u.setDateOfBirth;return r.a.createElement("form",{className:U.a.userInfoForm,method:"",action:""},r.a.createElement("div",{className:"form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"firstName"},"First Name")),r.a.createElement("input",{type:"text",name:"firstName",className:"form-control",placeholder:"i.e. John",value:n,required:"required",onChange:function(e){return m(e.target.value)}})),r.a.createElement("div",{className:"form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"lastName"},"Last Name")),r.a.createElement("input",{type:"text",name:"lastName",className:"form-control",placeholder:"i.e. Smith",value:o,required:"required",onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",{className:"form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"email"},"Email")),r.a.createElement("input",{type:"email",name:"email",className:"form-control",placeholder:"i.e. johnsmith@gmail.com",value:i,required:"required",onChange:function(e){return p(e.target.value)}})),r.a.createElement("div",{className:"form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"password"},"Password")),r.a.createElement("input",{type:"password",name:"password",className:"form-control",value:s,required:"required",onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",{className:"form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"confirmPassword"},"Confirm Password")),r.a.createElement("input",{type:"password",name:"confirmPassword",className:"form-control",value:c,onChange:function(e){return g(e.target.value)}})),r.a.createElement("div",{className:"form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"dateOfBirth"},"Date of Birth")),r.a.createElement(k.a,{selected:l,required:"required",onChange:function(e){return _(e)},className:"form-control"})))}),W=Object(a.memo)((function(e){e.apiKey;var t=Object(a.useState)(null),n=Object(g.a)(t,2),o=n[0],i=n[1],s=Object(a.useState)(null),c=Object(g.a)(s,2),u=c[0],m=c[1],d=Object(a.useState)(null),p=Object(g.a)(d,2),f=(p[0],p[1]),_=Object(a.useState)(null),E=Object(g.a)(_,2),b=E[0],v=E[1],O=Object(a.useContext)(B).handlers,h=O.setLocation,N=O.setLat,y=O.setLng,C=Object(a.useCallback)((function(e){var t=new window.google.maps.LatLngBounds;e.fitBounds(t),i(e)}),[]),w=Object(a.useCallback)((function(e){i(null)}),[]);return r.a.createElement("div",{className:U.a.mapContainer},r.a.createElement(l.b,{mapContainerStyle:{width:"450px",height:"465px"},center:u||{lat:44.3148443,lng:-85.60236429999999},zoom:1,onLoad:C,unMount:w},r.a.createElement(l.a,{onLoad:function(e){v(e)},onPlaceChanged:function(){if(b){var e=b.getPlace().geometry.location.lat(),t=b.getPlace().geometry.location.lng();N(e),y(t),h(document.querySelector("#autocomplete").value),f(new window.google.maps.Marker({position:{lat:e,lng:t},map:o})),m({lat:e,lng:t})}else console.log("Autocomplete is not loaded yet")}},r.a.createElement("input",{id:"autocomplete",type:"text",placeholder:"Enter your city here",style:{boxSizing:"border-box",border:"1px solid transparent",width:"240px",height:"32px",padding:"0 16px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"16px",outline:"none",textOverflow:"ellipses",position:"absolute",left:"50%",marginLeft:"-120px"}}))))})),H=function(){return r.a.createElement("div",{className:U.a.leftContainer})},V=function(e){var t=e.className,n=e.errors,a=e.listClass,o=e.divStyle;return r.a.createElement("div",{className:o},r.a.createElement("ul",{className:t},n.map((function(e,t){return r.a.createElement("li",{className:a,key:"error-".concat(t+1)},e)}))))},X=Object(c.g)((function(e){var t=e.history,n=Object(u.c)(),o=Object(u.d)((function(e){return e.ui.signUpForm})),i=o.userInfo,c=o.map,l=Object(u.d)((function(e){return e.errors}));Object(a.useEffect)((function(){return n({type:"ui/SIGN_UP_USER_INFO"}),function(){n({type:"ui/SIGN_UP_USER_INFO"})}}),[n]);var m=Object(a.useState)(""),d=Object(g.a)(m,2),_=d[0],E=d[1],b=Object(a.useState)(""),v=Object(g.a)(b,2),O=v[0],h=v[1],N=Object(a.useState)(""),y=Object(g.a)(N,2),C=y[0],w=y[1],I=Object(a.useState)(""),R=Object(g.a)(I,2),j=R[0],S=R[1],T=Object(a.useState)(""),P=Object(g.a)(T,2),D=P[0],F=P[1],x=Object(a.useState)(new Date),k=Object(g.a)(x,2),M=k[0],X=k[1],q=Object(a.useState)(""),Y=Object(g.a)(q,2),z=Y[0],K=Y[1],Z=Object(a.useState)(null),J=Object(g.a)(Z,2),Q=J[0],$=J[1],ee=Object(a.useState)(null),te=Object(g.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(!0),oe=Object(g.a)(re,2),ie=oe[0],se=oe[1];Object(a.useEffect)((function(){se(!1)}),[]),Object(a.useEffect)((function(){n({type:"errors/CLEAR_ERRORS"})}),[_,O,C,j,D,M,z,n]);var ce={values:{firstName:_,lastName:O,email:C,password:j,confirmPassword:D,dateOfBirth:M,location:z,lat:Q,lng:ne},handlers:{setFirstName:E,setLastName:h,setEmail:w,setPassword:S,setConfirmPassword:F,setDateOfBirth:X,setLocation:K,setLat:$,setLng:ae}},le=function(){var e=Object(f.a)(p.a.mark((function e(a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,n(L(_,O,C,j,D,M,z,Q,ne));case 3:if(!(r=e.sent).ok){e.next=7;break}return t.replace("/profiles/".concat(r.data.id)),e.abrupt("return");case 7:n(A(r.data.errors));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.Provider,{value:ce},r.a.createElement("div",{className:U.a.body,style:{display:"flex",width:"100vw",height:"100vh"}},r.a.createElement(H,null),r.a.createElement("div",{className:U.a.authRight},r.a.createElement("div",{className:U.a.signUpformContainer},r.a.createElement("div",{className:U.a.signUpheaderContainer},r.a.createElement("h1",{className:U.a.signUpHeader},"Sign Up")),l.length?r.a.createElement(V,{errors:l,className:U.a.authErrors}):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:U.a.contentContainer},r.a.createElement("div",{className:ie?U.a.initialUserInfoOnscreen:i?U.a.userInfoOnscreen:U.a.userInfoOffscreen},r.a.createElement(G,null)),r.a.createElement("div",{className:c?U.a.mapOnscreen:U.a.mapOffscreen},r.a.createElement(W,null))),r.a.createElement("div",{className:U.a.bottomContainer},r.a.createElement("button",{className:c?U.a.bottomButton:U.a.bottomButton+" hidden",onClick:function(){n({type:"ui/SIGN_UP_USER_INFO"}),n({type:"errors/CLEAR_ERRORS"})}},r.a.createElement("span",null,"\u2039")," Previous"),r.a.createElement("div",{className:U.a.circleContainer},r.a.createElement("div",{className:i?U.a.activeDisplayCircle:U.a.inactiveDisplayCircle}),r.a.createElement("div",{className:c?U.a.activeDisplayCircle:U.a.inactiveDisplayCircle})),i?r.a.createElement("button",{className:U.a.bottomButton,type:"button",onClick:function(){n({type:"ui/SIGN_UP_DISPLAY_MAP"})}},"Next ",r.a.createElement("span",null,"\u203a")):r.a.createElement("button",{className:U.a.bottomButton,type:"button",onClick:le},"Submit")),r.a.createElement("p",{className:U.a.loginText},"Already have an account? ",r.a.createElement(s.b,{className:U.a.linkText,to:"/login"},"Sign In")))))))})),q=Object(c.g)((function(e){var t=e.history,n=Object(u.c)(),o=Object(u.d)((function(e){return e.errors})),i=Object(a.useState)(""),c=Object(g.a)(i,2),l=c[0],m=c[1],d=Object(a.useState)(""),_=Object(g.a)(d,2),E=_[0],b=_[1];Object(a.useEffect)((function(){n({type:"errors/CLEAR_ERRORS"})}),[l,E,n]);var v=function(){var e=Object(f.a)(p.a.mark((function e(a){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,n(S(l,E));case 3:if(!(r=e.sent).ok){e.next=7;break}return t.replace("/profiles/".concat(1)),e.abrupt("return");case 7:n(A(r.data.errors));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:U.a.body,style:{display:"flex",height:"100vh",width:"100vw"}},r.a.createElement(H,null),r.a.createElement("div",{className:U.a.authRight},r.a.createElement("div",{className:U.a.loginFormContainer},r.a.createElement("div",{className:U.a.loginHeaderContainer},r.a.createElement("h1",{className:U.a.signUpHeader},"Welcome back!")),o.length?r.a.createElement(V,{errors:o,divStyle:U.a.loginErrorWrapper,className:U.a.loginErrors}):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:U.a.loginFormWrapper},r.a.createElement("form",{className:U.a.loginForm,method:"",action:"",onSubmit:v},r.a.createElement("div",{className:"login-form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"email"},"Email")),r.a.createElement("input",{className:"form-control",name:"email",type:"email",value:l,onChange:function(e){return m(e.target.value)}})),r.a.createElement("div",{className:"login-form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"password"},"Password")),r.a.createElement("input",{className:"form-control",name:"password",type:"password",value:E,onChange:function(e){return b(e.target.value)}})),r.a.createElement("div",{className:U.a.loginSubmitWrapper},r.a.createElement("button",{className:U.a.bottomButton,type:"submit"},"Sign In")))),r.a.createElement("p",{className:U.a.loginBottomText},"Don't have an account? ",r.a.createElement(s.b,{className:U.a.linkText,to:"/signup"},"Sign up here")))))})),Y={about:{display:!0,overview:!0,biography:!1},recordings:!1,recordingFormModal:!1,overviewFormModal:{display:!1,instrumentDropdown:!1,styleDropdown:!1},bioModal:!1};var z=n(19),K=n.n(z),Z=Object(u.b)((function(e,t){t.isOwner;var n=t.userProfile;return{name:n?n.firstName+" "+n.lastName:"",location:n&&n.profileInfo&&n.profileInfo.location?n.profileInfo.location.split(" ").slice(0,3).join(" "):""}}))((function(e){e.userProfile,e.isOwner;var t=e.name,n=(e.location,e.about),a=e.recordings,o=Object(u.c)(),i=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o({type:"ui/RECORDINGS_ON"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:K.a.sectionContainer},r.a.createElement("div",{className:K.a.defaultCoverPhoto},r.a.createElement("div",{className:K.a.pictureContainer},r.a.createElement("img",{className:K.a.defaultProfilePicture,src:"https://media.istockphoto.com/vectors/profile-placeholder-image-gray-silhouette-no-photo-vector-id1218408229?b=1&k=6&m=1218408229&s=612x612&w=0&h=ljIOZzztvumhkaB5d9xLPuZ8cvckG527XCWZIKTCT0k=",alt:"Profile"}),r.a.createElement("div",{className:K.a.defaultProfilePictureInnerBorder}))),r.a.createElement("div",{className:K.a.name},r.a.createElement("h1",null,t)),r.a.createElement("div",{className:K.a.toolbar},r.a.createElement("div",{className:K.a.buttonContainer},r.a.createElement("button",{className:K.a.button+(n?" "+K.a.activeButton:""),onClick:function(){o({type:"ui/ABOUT_ON"})}},"About"),r.a.createElement("button",{className:K.a.button+" "+K.a.lastButton+(a?" "+K.a.activeButton:""),onClick:i},"Recordings"))))})),J=n(5),Q=n.n(J),$=function(e){var t=e.instrumentNames;return r.a.createElement("li",null,r.a.createElement("span",{className:Q.a.bulletSpan},r.a.createElement("span",null,t&&t.length>2?"Plays the "+t.slice(0,t.length-1).join(", ")+", and "+t[t.length-1]:t&&2===t.length?"Plays the "+t.join(" and "):t?"Plays the "+t[0]:"This user has not yet set their instruments")))},ee=function(e){var t=e.styleNames;return r.a.createElement("li",null,r.a.createElement("span",{className:Q.a.bulletSpan},t&&t.length>2?"Specializes in "+t.slice(0,t.length-1).join(", ")+", and "+t[t.length-1]:t&&2===t.length?"Specializes in "+t.join(" and "):t?"Specializes in "+t[0]:"This user has not yet set their styles"))},te=Object(a.createContext)(),ne=function(e){var t=e.isOwner,n=Object(a.useContext)(te).handleEditClick;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("button",{onClick:n,className:Q.a.editButton},r.a.createElement("i",{className:"fas fa-pencil-alt"})):r.a.createElement(r.a.Fragment,null))},ae=function(e){var t=e.age,n=e.instrumentNames,a=e.styleNames,o=e.userProfile,i=e.isOwner,s=Object(u.c)(),c={handleEditClick:function(){s({type:"ui/TOGGLE_OVERVIEW_MODAL"}),document.body.classList.add("noscroll")}};return r.a.createElement(te.Provider,{value:c},r.a.createElement("div",{className:Q.a.aboutSectionInnerContainer},r.a.createElement(ne,{isOwner:i}),r.a.createElement("div",{className:Q.a.overview},r.a.createElement("h3",{className:Q.a.aboutSectionHeader},"Player Overview"),r.a.createElement("ul",{className:Q.a.overviewList},r.a.createElement("li",null,t?t.toString():""," years old"),r.a.createElement("li",null,o&&o.profileInfo&&o.profileInfo.location?"Lives in "+o.profileInfo.location.split(/\s\d+/)[0]:"This user has not yet set a location"),r.a.createElement($,{instrumentNames:n}),r.a.createElement(ee,{styleNames:a})))))},re=Object(a.createContext)(),oe=function(e){var t=e.isOwner,n=Object(a.useContext)(re).handleEditClick;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("button",{onClick:n,className:Q.a.editButton},r.a.createElement("i",{className:"fas fa-pencil-alt"})):r.a.createElement(r.a.Fragment,null))},ie=function(e){var t=e.userProfile,n=e.isOwner,a=Object(u.c)(),o={handleEditClick:function(){a({type:"ui/TOGGLE_BIO_MODAL"}),document.body.classList.add("noscroll")}};return r.a.createElement(re.Provider,{value:o},r.a.createElement("div",{className:Q.a.aboutSectionInnerContainer},r.a.createElement(oe,{isOwner:n}),r.a.createElement("div",{className:Q.a.bio},r.a.createElement("h3",{className:Q.a.aboutSectionHeader},"Biography"),r.a.createElement("p",{className:Q.a.bioContent},t?t.profileInfo.biography:""))))},se=function(){var e=Object(u.c)();return r.a.createElement("ul",{className:Q.a.aboutSelector},r.a.createElement("li",{onClick:function(){return e({type:"ui/ABOUT_OVERVIEW_ON"})}},"Overview"),r.a.createElement("li",{onClick:function(){return e({type:"ui/ABOUT_BIO_ON"})}},"Biography"))},ce=function(e){var t=e.userProfile,n=e.instruments,a=e.styles,o=e.isOwner,i=t?Math.abs(new Date(new Date(t.dateOfBirth).getTime()-Date.now()).getUTCFullYear()-1969):null,s=n&&n.length?n.map((function(e){return e?e.name:""})):null,c=a&&a.length?a.map((function(e){return e?e.name:""})):null,l=Object(u.d)((function(e){return e.ui.profilePage})).about,m=l.overview,d=l.biography;return r.a.createElement("div",{className:Q.a.aboutContainer},r.a.createElement("div",{className:Q.a.aboutHeaderContainer},r.a.createElement("h2",{className:Q.a.aboutHeader},"About")),r.a.createElement(se,null),r.a.createElement("div",{className:Q.a.aboutSectionContainer},m?r.a.createElement(ae,{isOwner:o,age:i,instrumentNames:s,styleNames:c,userProfile:t}):d?r.a.createElement(ie,{isOwner:o,userProfile:t}):r.a.createElement(r.a.Fragment,null)))},le=Object(a.createContext)(),ue=function(e){var t=e.videoId,n=e.i,o=e.height,i=e.width,s=Object(a.useContext)(le).set.setLoading,c=Object(a.useRef)(null);return Object(a.useEffect)((function(){c.current=new window.YT.Player("player-".concat(n),{videoId:t,playerVars:{origin:"http://localhost:3000"},events:{onReady:function(){s(!1)}}})}),[n,t,s]),r.a.createElement("iframe",{title:"Recording ".concat(n),width:i,height:o,src:"https://www.youtube.com/embed/".concat(t,"?enablejsapi=1"),frameBorder:"0",id:"player-".concat(n)})},me=n(9),de=n.n(me),pe=function(e){var t=e.recording,n=e.i,o=e.isOwner,i=Object(u.c)(),s=t.id,c=t.title,l=t.description,m=t.url,d=Object(a.useState)(!0),p=Object(g.a)(d,2),f=p[0],_={get:{loading:f},set:{setLoading:p[1]}};return r.a.createElement(le.Provider,{value:_},r.a.createElement("div",{style:{gridRow:"".concat(n," / ").concat(n+1)},className:(1===n?de.a.firstRecording:de.a.recordingContainer)+(f?" "+de.a.loading:"")},r.a.createElement("div",{className:de.a.recordingInnerContainer},r.a.createElement("div",{className:de.a.recordingHeaderContainer},r.a.createElement("h3",{className:de.a.recordingTitle},c),o?r.a.createElement("button",{className:de.a.editButton,onClick:function(){i({type:"ui/TOGGLE_RECORDING_MODAL"}),i(j(s)),document.body.classList.add("noscroll")}},r.a.createElement("i",{className:"fas fa-pencil-alt"})):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:de.a.recordingContentContainer},/https:\/\/www\.youtube\.com/g.test(m)?r.a.createElement(ue,{videoId:m.split("v=")[1],i:n,width:"640",height:"360"}):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:de.a.recordingDescriptionContainer},l?r.a.createElement("div",null,r.a.createElement("h4",{className:de.a.aboutRecordingHeader},"About this recording:"),r.a.createElement("p",{className:de.a.recordingDescription},l)):r.a.createElement(r.a.Fragment,null))))))},fe=Object(a.createContext)(),ge=function(e){var t=e.isOwner,n=Object(a.useContext)(fe).handleNewRecordingClick;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("button",{className:de.a.addRecordingButton,onClick:n},r.a.createElement("i",{className:"fas fa-plus"}),r.a.createElement("p",{className:de.a.addRecording},"Add Recording")):r.a.createElement(r.a.Fragment,null))},_e=Object(u.b)((function(e,t){t.isOwner;var n=t.userProfile;return{userRecordings:n&&Object.keys(e.entities.recordings).length?Object.values(n.profileInfo.recordings).map((function(t){return{id:t.recording_id,url:e.entities.recordings[t.recording_id]?e.entities.recordings[t.recording_id].url:null,title:t.title,description:t.description}})):[]}}))((function(e){var t=e.isOwner,n=(e.userProfile,e.userRecordings),a=(e.className,Object(u.c)()),o={handleNewRecordingClick:function(){a({type:"ui/TOGGLE_RECORDING_MODAL"}),document.body.classList.add("noscroll")}};return r.a.createElement(fe.Provider,{value:o},r.a.createElement("div",{className:de.a.recordingsContainer},r.a.createElement("div",{className:de.a.recordingsHeaderContainer},r.a.createElement("h2",{className:de.a.recordingsHeader},"Recordings"),r.a.createElement(ge,{isOwner:t})),r.a.createElement("div",{style:{display:"grid",gridTemplateRows:n?"repeat(".concat(n.length,", 1fr)"):""}},n.length?n.map((function(e,n){return r.a.createElement(pe,{key:"recording-".concat(n+1),recording:e,i:n+1,isOwner:t})})):r.a.createElement("div",{className:de.a.recordingPlaceholderContainer},r.a.createElement("h1",{className:de.a.recordingPlaceholderText},"This user has not yet added any recordings")))))})),Ee=function(e){var t=e.isOwner,n=e.userProfile,o=e.about,i=e.recordings,s=e.instruments,c=e.styles,l=Object(u.c)();return Object(a.useEffect)((function(){l({type:"ui/ABOUT_ON"})}),[l]),r.a.createElement(r.a.Fragment,null,o?r.a.createElement(ce,{isOwner:t,userProfile:n,instruments:s,styles:c}):i?r.a.createElement(_e,{isOwner:t,userProfile:n}):r.a.createElement(r.a.Fragment,null))},be=Object(c.g)((function(e){var t=e.match,n=Object(u.d)((function(e){return e.session.userId===parseInt(t.params.id)})),a=Object(u.d)((function(e){return e.entities.users[parseInt(t.params.id)]})),o=Object(u.d)((function(e){return a&&a.profileInfo&&a.profileInfo.instruments?a.profileInfo.instruments.map((function(t){return e.entities.instruments[t]})):null})),i=Object(u.d)((function(e){return a&&a.profileInfo&&a.profileInfo.styles?a.profileInfo.styles.map((function(t){return e.entities.styles[t]})):null})),s=Object(u.d)((function(e){return e.ui.profilePage})),c=s.about.display,l=s.recordings;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{isOwner:n,userProfile:a,about:c,recordings:l}),r.a.createElement(Ee,{isOwner:n,userProfile:a,about:c,recordings:l,instruments:o,styles:i}))})),ve={profileDropdown:!1};var Oe=n(15),he=n.n(Oe),Ne=Object(c.g)((function(e){var t=e.className,n=e.history,a=Object(u.c)(),o=Object(u.d)((function(e){return e.session.userId})),i=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/logout",{method:"PUT",headers:{"X-CSRFToken":w,"Content-Type":"application/json"}});case 2:return(n=e.sent).ok&&t({type:R}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:if(!e.sent.ok){e.next=6;break}return n.replace("/"),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:t},r.a.createElement("ul",{className:he.a.profileDropdown},r.a.createElement(s.b,{className:he.a.dropdownLink,to:"/profiles/".concat(o)},r.a.createElement("li",{className:he.a.dropdownListItem},"My Profile")),r.a.createElement("li",{className:he.a.dropdownListItem,onClick:i},"Logout")))})),ye=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.ui.navbar})).profileDropdown;return r.a.createElement("div",{className:he.a.nav},r.a.createElement("div",{className:he.a.navContainer},r.a.createElement("div",{className:he.a.leftContainer},r.a.createElement(s.b,{className:he.a.logo,to:"/"},r.a.createElement("h2",null,"Player Seeking Player"))),r.a.createElement("div",{className:he.a.rightContainer,onClick:function(){e({type:"ui/TOGGLE_PROFILE_DROPDOWN"})}},r.a.createElement("img",{className:he.a.profileImage,src:"https://media.istockphoto.com/vectors/profile-placeholder-image-gray-silhouette-no-photo-vector-id1218408229?b=1&k=6&m=1218408229&s=612x612&w=0&h=ljIOZzztvumhkaB5d9xLPuZ8cvckG527XCWZIKTCT0k=",alt:"Profile Placeholder"}),r.a.createElement("span",{className:he.a.profileDropdownArrow+" "+(t?he.a.active:he.a.inactive)},"\u2bc6"),r.a.createElement(Ne,{className:t?he.a.dropdownContainer:he.a.hidden}))))},Ce=function(e){var t=e.id,n=e.recInfo,o=n.profileId,i=n.recTitle,s=n.recDescription,c=n.recURL,l=Object(u.c)(),m=Object(a.useState)(t?i:""),d=Object(g.a)(m,2),_=d[0],E=d[1],b=Object(a.useState)(t?c:""),v=Object(g.a)(b,2),O=v[0],h=v[1],N=Object(a.useState)(t?s:""),w=Object(g.a)(N,2),I=w[0],R=w[1],j=Object(u.d)((function(e){return e.errors}));Object(a.useEffect)((function(){l({type:"errors/CLEAR_ERRORS"})}),[_,O,I,l]);var S=function(){var e=Object(f.a)(p.a.mark((function e(n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t){e.next=8;break}return e.next=4,l(y(o,O,_,I));case 4:a=e.sent,console.log(a),e.next=11;break;case 8:return e.next=10,l(C(o,t,O,_,I));case 10:a=e.sent;case 11:if(!a.ok){e.next=15;break}return l({type:"ui/TOGGLE_RECORDING_MODAL"}),document.body.classList.remove("noscroll"),e.abrupt("return");case 15:l(A(a.data.errors));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:de.a.modalFormTitle},t?"Edit Recording":"Add Recording"),j&&j.length?r.a.createElement(V,{errors:j,className:de.a.recordingErrors,divStyle:t?de.a.editRecordingErrorWrapper:de.a.addRecordingErrorWrapper}):r.a.createElement(r.a.Fragment,null),r.a.createElement("form",{className:t?de.a.editRecordingForm:de.a.addRecordingForm,method:"",action:"",onSubmit:S},r.a.createElement("div",{className:"form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"title"},"Title")),r.a.createElement("input",{className:"form-control",type:"text",name:"title",value:_,onChange:function(e){return E(e.target.value)}})),t?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"url"},"URL")),r.a.createElement("input",{className:"form-control",type:"url",name:"url",value:O,onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",{className:"form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels",htmlFor:"description"},"Description")),r.a.createElement("textarea",{className:de.a.descriptionForm,cols:"55",rows:"8",name:"description",value:I,onChange:function(e){return R(e.target.value)}})),r.a.createElement("button",{className:de.a.submitButton},t?"Edit Recording":"Add Recording")))},we=function(){var e=Object(u.d)((function(e){return e.ui.profilePage})).recordingFormModal,t=Object(u.d)((function(e){return e.session})),n=t.recordingFormId,a=t.userId,o=Object(u.d)((function(e){return n?{profileId:e.session.userId,recTitle:e.entities.users[e.session.userId].profileInfo.recordings[n].title,recURL:e.entities.recordings[n].url,recDescription:e.entities.users[e.session.userId].profileInfo.recordings[n].description}:{profileId:e.session.userId,recTitle:void 0,recURL:void 0,recDescription:void 0}})),i=Object(u.c)();return e?r.a.createElement("div",{style:{height:window.innerHeight,width:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:"1",position:"absolute",top:window.pageYOffset,overflow:"hidden"}},r.a.createElement("div",{className:n?de.a.editModalFormContainer:de.a.addModalFormContainer},r.a.createElement("button",{className:de.a.modalFormClose,onClick:function(){i({type:"ui/TOGGLE_RECORDING_MODAL"}),i(j(null)),i({type:"errors/CLEAR_ERRORS"}),document.body.classList.remove("noscroll")}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement(Ce,{id:n,recInfo:o}),n?r.a.createElement("button",{onClick:function(){i(function(e,t){var n=h.a.get("XSRF-TOKEN");return function(){var a=Object(f.a)(p.a.mark((function a(r){var o,i,s,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/recordings/".concat(e,"/profile/").concat(t,"/"),{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":n}});case 2:return o=a.sent,a.next=5,o.json();case 5:return o.data=a.sent,o.ok&&(i=o.data,s=i.recordingId,c=i.profileId,r(N(s,c))),a.abrupt("return",o);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,a)),i({type:"ui/TOGGLE_RECORDING_MODAL"}),i(j(null)),i({type:"errors/CLEAR_ERRORS"}),document.body.classList.remove("noscroll")},className:de.a.deleteRecordingButton},r.a.createElement("i",{className:"fas fa-trash-alt"})):r.a.createElement(r.a.Fragment,null))):r.a.createElement(r.a.Fragment,null)},Ie=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",null,r.a.createElement("div",{className:"footerListContainer"},r.a.createElement("ul",{className:"footerList"},r.a.createElement("h3",{className:"footerListHeader"},"MORE INFO"),r.a.createElement("li",null,r.a.createElement("a",{className:"footerListItem",href:"https://github.com/PanosPHL/PlayerSeekingPlayer"},"GitHub Repo")),r.a.createElement("li",null,r.a.createElement("a",{className:"footerListItem",href:"https://www.linkedin.com/in/panayiotis-dimopoulos/"},"LinkedIn Profile"))))))},Re=n(36),je=Object(a.createContext)(),Se=Object(a.memo)((function(e){var t=e.initLocation,n=e.initLat,o=e.initLng,i=Object(a.useState)(null),s=Object(g.a)(i,2),c=s[0],u=s[1],m=Object(a.useState)({lat:n,lng:o}),d=Object(g.a)(m,2),p=d[0],f=d[1],_=Object(a.useState)(null),E=Object(g.a)(_,2),b=(E[0],E[1]),v=Object(a.useState)(null),O=Object(g.a)(v,2),h=O[0],N=O[1],y=Object(a.useState)(t||null),C=Object(g.a)(y,2),w=C[0],I=C[1],R=Object(a.useContext)(je),j=R.actionTypes.UNSET_VALID_LOCATION,S=R.onLocationChange,T=R.localDispatch,P=Object(a.useCallback)((function(e){var t=new window.google.maps.LatLngBounds;e.fitBounds(t),u(e),b(new window.google.maps.Marker({position:{lat:n,lng:o},map:e})),e.panTo(p)}),[n,o,p]),L=Object(a.useCallback)((function(e){u(null)}),[]);return r.a.createElement(l.b,{mapContainerStyle:{width:"384px",height:"384px"},center:p,zoom:1,onLoad:P,unMount:L},r.a.createElement(l.a,{onLoad:function(e){N(e)},onPlaceChanged:function(){if(h){var e=h.getPlace().geometry.location.lat(),t=h.getPlace().geometry.location.lng(),n=document.querySelector("#autocomplete").value;I(n),S(n,e,t),b(new window.google.maps.Marker({position:{lat:e,lng:t},map:c})),f({lat:e,lng:t})}else console.log("Autocomplete is not loaded yet")}},r.a.createElement("input",{id:"autocomplete",type:"text",placeholder:"Enter your city here",style:{boxSizing:"border-box",border:"1px solid transparent",width:"240px",height:"32px",padding:"0 16px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"16px",outline:"none",textOverflow:"ellipses",position:"absolute",left:"50%",marginLeft:"-120px"},value:w,onChange:function(e){I(e.target.value),T({type:j})}})))})),Te=function(e){e.i;var t=e.initCheck,n=e.type,o=e.name,i=e.value,s=Object(a.useState)(t),c=Object(g.a)(s,2),l=c[0],u=c[1],m=Object(a.useContext)(je),d=m.actionTypes,p=d.ADD_INSTRUMENT,f=d.REMOVE_INSTRUMENT,_=d.ADD_STYLE,E=d.REMOVE_STYLE,b=m.localDispatch;return r.a.createElement("input",{type:"checkbox",name:o,value:i,onChange:function(e){e.target.checked?(u(!0),b("instrument"===n?{type:p,instrumentId:parseInt(e.target.value)}:{type:_,styleId:parseInt(e.target.value)})):(u(!1),b("instrument"===n?{type:f,instrumentId:parseInt(e.target.value)}:{type:E,styleId:parseInt(e.target.value)}))},checked:l})},Pe=function(e){var t=e.instruments,n=e.userInstruments,o=e.className;Object(a.useContext)(je).onInstrumentChange;return r.a.createElement("ul",{className:o},t&&t.length?t.map((function(e,t){var a=n.includes(e.id);return r.a.createElement("li",{className:Q.a.dropdownListItem,key:"instrument-".concat(t+1)},r.a.createElement("label",{className:Q.a.dropdownLabel,htmlFor:"instrument-".concat(t+1)},e.name),r.a.createElement(Te,{name:"instrument-".concat(t+1),value:e.id,initCheck:a,type:"instrument"}))})):r.a.createElement(r.a.Fragment,null))},Le=function(e){var t=e.styles,n=e.userStyles,o=e.className;Object(a.useContext)(je).onStyleChange;return r.a.createElement("ul",{className:o},t&&t.length?t.map((function(e,t){var a=n.includes(e.id);return r.a.createElement("li",{className:Q.a.dropdownListItem,key:"style-".concat(t+1)},r.a.createElement("label",{className:Q.a.dropdownLabel,htmlFor:"style-".concat(t+1)},e.name),r.a.createElement(Te,{name:"style-".concat(t+1),value:e.id,initCheck:a,type:"style"}))})):r.a.createElement(r.a.Fragment,null))},De=function(e){var t=e.initDOB,n=e.initLocation,o=e.initLat,i=e.initLng,s=e.instruments,c=e.styles,l=e.userInstruments,m=e.userStyles,d=e.userId,_={DOB:new Date(t),instruments:l,styles:m,location:{location:n,lat:o,lng:i,validLocation:!!n}};var E=Object(u.c)(),b=Object(a.useReducer)((function(e,t){var n,a=Object.assign({},e),r=Object.assign({},a.location);switch(t.type){case"SET_DOB":return a.DOB=new Date(t.DOB),a;case"ADD_INSTRUMENT":return a.instruments=[].concat(Object(Re.a)(a.instruments),[t.instrumentId]),a;case"REMOVE_INSTRUMENT":return n=a.instruments.indexOf(t.instrumentId),a.instruments=[].concat(Object(Re.a)(a.instruments.slice(0,n)),Object(Re.a)(a.instruments.slice(n+1))),a;case"ADD_STYLE":return a.styles=[].concat(Object(Re.a)(a.styles),[t.styleId]),a;case"REMOVE_STYLE":return n=a.styles.indexOf(t.styleId),a.styles=[].concat(Object(Re.a)(a.styles.slice(0,n)),Object(Re.a)(a.styles.slice(n+1))),a;case"SET_LOCATION":var o=t.location,i=t.lat,s=t.lng;return r.location=o,r.lat=i,r.lng=s,r.validLocation=!0,a.location=r,a;case"UNSET_VALID_LOCATION":return r.validLocation=!1,a.location=r,a;default:return e}}),_),v=Object(g.a)(b,2),O=v[0],h=v[1];Object(a.useEffect)((function(){E({type:"errors/CLEAR_ERRORS"})}),[O,E]);var N=Object(u.d)((function(e){return e.ui.profilePage.overviewFormModal})),y=N.instrumentDropdown,C=N.styleDropdown,w=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,E(D(d,O.DOB,O.instruments,O.styles,O.location.location,O.location.lat,O.location.lng,O.location.validLocation));case 3:if(!(n=e.sent).ok){e.next=8;break}return E({type:"ui/TOGGLE_OVERVIEW_MODAL"}),document.body.classList.remove("noscroll"),e.abrupt("return");case 8:E(A(n.data.errors));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I={actionTypes:{ADD_INSTRUMENT:"ADD_INSTRUMENT",REMOVE_INSTRUMENT:"REMOVE_INSTRUMENT",ADD_STYLE:"ADD_STYLE",REMOVE_STYLE:"REMOVE_STYLE",UNSET_VALID_LOCATION:"UNSET_VALID_LOCATION"},onLocationChange:function(e,t,n){h({type:"SET_LOCATION",location:e,lat:t,lng:n})},localDispatch:h};return r.a.createElement(je.Provider,{value:I},r.a.createElement("div",{className:Q.a.overviewFormContainer},r.a.createElement("h2",{className:Q.a.modalFormTitle},"Edit Overview"),r.a.createElement("form",{className:Q.a.overviewForm,method:"",action:"",onSubmit:w},r.a.createElement("div",{className:"form-control-group"},r.a.createElement("p",null,r.a.createElement("label",{className:"labels"},"Date of Birth")),r.a.createElement(k.a,{className:"form-control",selected:O.DOB,onChange:function(e){return h({type:"SET_DOB",DOB:e})}})),r.a.createElement("div",{className:Q.a.dropdownContainer},r.a.createElement("p",{style:{position:"relative"}},r.a.createElement("label",{className:"labels",onClick:function(){E({type:"ui/TOGGLE_INSTRUMENT_DROPDOWN"})}},"Instruments ",r.a.createElement("span",{className:y?Q.a.downInstrumentTriangle:Q.a.rightInstrumentTriangle},"\u25b6"))),r.a.createElement(Pe,{className:y?Q.a.openInstrumentDropdown:Q.a.closedInstrumentDropdown,instruments:s,userInstruments:l})),r.a.createElement("div",{className:Q.a.dropdownContainer},r.a.createElement("p",{style:{position:"relative"}},r.a.createElement("label",{className:"labels",onClick:function(){E({type:"ui/TOGGLE_STYLE_DROPDOWN"})}},"Styles ",r.a.createElement("span",{className:C?Q.a.downStyleTriangle:Q.a.rightStyleTriangle},"\u25b6"))),r.a.createElement(Le,{className:C?Q.a.openStyleDropdown:Q.a.closedStyleDropdown,styles:c,userStyles:m})),r.a.createElement("div",{className:"form-control-group "+Q.a.mapContainer},r.a.createElement(Se,{initLocation:O.location.location,initLat:O.location.lat,initLng:O.location.lng})),r.a.createElement("button",{className:Q.a.overviewSubmitButton,type:"submit"},"Submit"))))},Fe=Object(c.g)((function(e){var t=e.location,n=Object(u.c)(),a=Object(u.d)((function(e){return e.ui.profilePage})).overviewFormModal.display,o=Object(u.d)((function(e){return Object.values(e.entities.instruments)})),i=Object(u.d)((function(e){return Object.values(e.entities.styles)})),s=Object(u.d)((function(e){return e.entities.users[parseInt(t.pathname.split("/")[2])]})),c=Object(u.d)((function(e){return e.errors}));return a?r.a.createElement("div",{style:{height:window.innerHeight,width:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:"1",position:"absolute",top:window.pageYOffset,overflow:"hidden"}},r.a.createElement("div",{className:Q.a.overviewFormModalContainer},r.a.createElement("button",{className:Q.a.modalFormClose,onClick:function(){n({type:"ui/TOGGLE_OVERVIEW_MODAL"}),document.body.classList.remove("noscroll")}},r.a.createElement("i",{className:"fas fa-times"})),c&&c.length?r.a.createElement(V,{errors:c,className:Q.a.overviewErrors,divStyle:Q.a.overviewErrorWrapper}):r.a.createElement(r.a.Fragment,null),r.a.createElement(De,{initDOB:s?s.dateOfBirth:null,instruments:o||null,userInstruments:s?s.profileInfo.instruments:null,styles:i||null,userStyles:s?s.profileInfo.styles:null,initLocation:s?s.profileInfo.location:null,initLat:s?s.lat:null,initLng:s?s.lng:null,userId:s?s.id:null}))):r.a.createElement(r.a.Fragment,null)})),Ae=function(e){var t=e.initBio,n=e.userId,o=Object(u.c)(),i=Object(a.useState)(t||""),s=Object(g.a)(i,2),c=s[0],l=s[1];Object(a.useEffect)((function(){o({type:"errors/CLEAR_ERRORS"})}),[c,o]);var m=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,o(F(n,c));case 3:if(!(a=e.sent).ok){e.next=8;break}return o({type:"ui/TOGGLE_BIO_MODAL"}),document.body.classList.remove("noscroll"),e.abrupt("return");case 8:o(A(a.data));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:Q.a.bioForm,method:"",action:"",onSubmit:m},r.a.createElement("h2",{className:Q.a.modalFormTitle},"Edit Bio"),r.a.createElement("p",null,r.a.createElement("label",{className:"labels"},"Bio")),r.a.createElement("textarea",{className:Q.a.bioTextarea+" form-control",rows:"12",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("button",{className:Q.a.bioSubmitButton,type:"submit"},"Submit"))},xe=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.ui.profilePage})).bioModal,n=Object(u.d)((function(e){return e.session})).userId,a=Object(u.d)((function(e){return e.entities.users[e.session.userId]||{profileInfo:{}}})).profileInfo.biography;return t?r.a.createElement("div",{style:{height:window.innerHeight,width:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:"1",position:"absolute",top:window.pageYOffset,overflow:"hidden"}},r.a.createElement("div",{className:Q.a.bioFormModalContainer},r.a.createElement("button",{className:Q.a.modalFormClose+" "+Q.a.bioModalFormClose,onClick:function(){e({type:"ui/TOGGLE_BIO_MODAL"}),document.body.classList.remove("noscroll")}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement(Ae,{initBio:a,userId:n}))):r.a.createElement(r.a.Fragment,null)},ke=Object(c.g)((function(){var e=Object(u.c)();return Object(a.useEffect)((function(){(function(){var t=Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/data");case 2:return n=e.sent,e.next=5,n.json();case 5:return n.data=e.sent,n.ok&&(t(P(n.data.users)),t({type:"instruments/SET_INSTRUMENTS",instruments:n.data.instruments}),t({type:"recordings/SET_RECORDINGS",recordings:n.data.recordings}),t({type:"styles/SET_STYLES",styles:n.data.styles})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,null),r.a.createElement(s.a,null,r.a.createElement(xe,null),r.a.createElement(Fe,null),r.a.createElement(we,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/profiles/:id"},r.a.createElement(be,null)))),r.a.createElement(Ie,null))}));var Be,Me=function(e){var t=e.apiKey;return r.a.createElement(l.c,{googleMapsApiKey:t,libraries:["places"]},r.a.createElement(s.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/login"},r.a.createElement(q,null)),r.a.createElement(c.b,{path:"/signup"},r.a.createElement(X,null)),r.a.createElement(m,{path:"/",component:ke}))))},Ue=n(33),Ge=n(83),We=Object(Ue.c)({users:function(){var e,t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=Object.assign({},a);switch(r.type){case"users/SIGNUP_USER":return o[r.user.id]=r.user,o;case"users/SET_USERS":var i,s=Object(v.a)(r.users);try{for(s.s();!(i=s.n()).done;){var c=i.value;o[c.id]=c}}catch(l){s.e(l)}finally{s.f()}return o;case"recordings/ADD_PROFILE_RECORDING":return t=Object.assign({},o[[r.profileRecording.profile_id]].profileInfo),n=Object(b.a)(Object(E.a)({},r.profileRecording.recording_id,r.profileRecording),t.recordings),t.recordings=n,o[[r.profileRecording.profile_id]].profileInfo=t,o;case"recordings/UPDATE_PROFILE_RECORDING":return t=Object.assign({},o[[r.profileRecording.profile_id]].profileInfo),(n=Object.assign({},t.recordings))[r.profileRecording.recording_id]=r.profileRecording,t.recordings=n,o[[r.profileRecording.profile_id]].profileInfo=t,o;case"users/UPDATE_OVERVIEW":return e=Object.assign({},o[[r.userInfo.id]]),t=Object.assign({},e.profileInfo),e.dateOfBirth=r.userInfo.dateOfBirth,e.lat=r.userInfo.lat,e.lng=r.userInfo.lng,t.location=r.userInfo.profileInfo.location,t.recordings=r.userInfo.profileInfo.recordings,t.styles=r.userInfo.profileInfo.styles,t.instruments=r.userInfo.profileInfo.instruments,e.profileInfo=t,o[[r.userInfo.id]]=e,o;case"users/UPDATE_BIO":return e=Object.assign({},o[[r.userInfo.id]]),(t=Object.assign({},e.profileInfo)).biography=r.userInfo.profileInfo.biography,e.profileInfo=t,o[[r.userInfo.id]]=e,o;case"recordings/DELETE_PROFILE_RECORDING":return e=Object.assign({},o[[r.userId]]),t=Object.assign({},e.profileInfo),delete(n=Object.assign({},t.recordings))[r.recordingId],t.recordings=n,e.profileInfo=t,o[[r.userId]]=e,o;default:return a}},instruments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"instruments/SET_INSTRUMENTS":var a,r=Object(v.a)(t.instruments);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o.id]=o}}catch(i){r.e(i)}finally{r.f()}return n;default:return e}},recordings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"recordings/SET_RECORDINGS":var a,r=Object(v.a)(t.recordings);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o.id]=o}}catch(i){r.e(i)}finally{r.f()}return n;case"recordings/ADD_RECORDING":return n[t.recording.id]=t.recording,n;default:return e}},styles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"styles/SET_STYLES":var a,r=Object(v.a)(t.styles);try{for(r.s();!(a=r.n()).done;){var o=a.value;n[o.id]=o}}catch(i){r.e(i)}finally{r.f()}return n;default:return e}}}),He=Object(Ue.c)({signUpForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ui/SIGN_UP_USER_INFO":return{userInfo:!0,map:!1};case"ui/SIGN_UP_DISPLAY_MAP":return{userInfo:!1,map:!0};default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"ui/TOGGLE_PROFILE_DROPDOWN":return n.profileDropdown=!n.profileDropdown,n;default:return e}},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e),a=Object.assign({},n.about),r=Object.assign({},n.overviewFormModal);switch(t.type){case"ui/ABOUT_ON":return n.recordings=!1,a.display=!0,a.overview=!0,a.biography=!1,n.about=a,n;case"ui/RECORDINGS_ON":return a.display=!1,a.overview=!0,a.biography=!1,n.about=a,n.recordings=!0,n;case"ui/TOGGLE_RECORDING_MODAL":return n.recordingFormModal=!n.recordingFormModal,n;case"ui/ABOUT_OVERVIEW_ON":return a.display=!0,a.overview=!0,a.biography=!1,n.about=a,n;case"ui/ABOUT_BIO_ON":return a.display=!0,a.overview=!1,a.biography=!0,n.about=a,n;case"ui/TOGGLE_OVERVIEW_MODAL":return r.display=!r.display,n.overviewFormModal=r,n;case"ui/TOGGLE_INSTRUMENT_DROPDOWN":return r.instrumentDropdown=!r.instrumentDropdown,n.overviewFormModal=r,n;case"ui/TOGGLE_STYLE_DROPDOWN":return r.styleDropdown=!r.styleDropdown,n.overviewFormModal=r,n;case"ui/TOGGLE_BIO_MODAL":return n.bioModal=!n.bioModal,n;default:return e}}}),Ve=Object(Ue.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case I:return n.userId=t.userId,n;case R:return n.userId=null,n;case"session/SET_RECORDING_FORM_ID":return n.recordingFormId=t.id,n;default:return e}},entities:We,ui:He,errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"errors/SET_ERRORS":return t.errors;case"errors/CLEAR_ERRORS":return[];default:return e}}}),Xe=function(e,t){return t.type===R&&(e=void 0),Ve(e,t)};Be=Object(Ue.a)(Ge.a);var qe,Ye=Object(Ue.d)(Xe,qe,Be);var ze=fetch("/api/session/map-api-token").then((function(e){return e.json()})).then((function(e){return ze=e.api_key})).then((function(){return fetch("/api/session/csrf")})).then((function(){i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:Ye},r.a.createElement(Me,{apiKey:ze}))),document.getElementById("root"))}))},19:function(e,t,n){e.exports={sectionContainer:"ProfilePage_sectionContainer__1IhhQ",defaultCoverPhoto:"ProfilePage_defaultCoverPhoto__2kjPE",pictureContainer:"ProfilePage_pictureContainer__QWA87",defaultProfilePicture:"ProfilePage_defaultProfilePicture__2qSZG",defaultProfilePictureInnerBorder:"ProfilePage_defaultProfilePictureInnerBorder__1HLWp",toolbar:"ProfilePage_toolbar__2ZGfc",buttonContainer:"ProfilePage_buttonContainer__JivAA",button:"ProfilePage_button__n9H05",lastButton:"ProfilePage_lastButton__1U-kf",activeButton:"ProfilePage_activeButton__1t4mw",name:"ProfilePage_name__1HwWL"}},5:function(e,t,n){e.exports={aboutContainer:"About_aboutContainer__3Q6vR",aboutHeaderContainer:"About_aboutHeaderContainer__1K-Yw",aboutHeader:"About_aboutHeader__1KZsA",aboutSectionContainer:"About_aboutSectionContainer__c0NZp",aboutSectionInnerContainer:"About_aboutSectionInnerContainer__2Ishq",aboutSelector:"About_aboutSelector__2X2vh",aboutSectionHeader:"About_aboutSectionHeader__25PPU",overviewList:"About_overviewList__3dN1D",bioContent:"About_bioContent__1-nH8",editButton:"About_editButton__25f_E",overviewFormModalContainer:"About_overviewFormModalContainer__2CayE",modal_entry:"About_modal_entry__25H95",closedInstrumentDropdown:"About_closedInstrumentDropdown__3Z4q7",closedStyleDropdown:"About_closedStyleDropdown__2q0rq",openInstrumentDropdown:"About_openInstrumentDropdown__I0qnR",openStyleDropdown:"About_openStyleDropdown__1B2fz",dropdownListItem:"About_dropdownListItem__2KXYu",downInstrumentTriangle:"About_downInstrumentTriangle__2OcAH",rightInstrumentTriangle:"About_rightInstrumentTriangle__1TQ6i",downStyleTriangle:"About_downStyleTriangle__3nmYi",rightStyleTriangle:"About_rightStyleTriangle__CU5s1",dropdownContainer:"About_dropdownContainer__20ydJ",overviewFormContainer:"About_overviewFormContainer__C6t6u",overviewSubmitButton:"About_overviewSubmitButton___QWif",overviewForm:"About_overviewForm__1UTqP",dropdownLabel:"About_dropdownLabel__1SJk4",modalFormTitle:"About_modalFormTitle__1Pmaq",modalFormClose:"About_modalFormClose__3Rn9s",overviewErrors:"About_overviewErrors__3LSbB",overviewErrorWrapper:"About_overviewErrorWrapper__WWx0B",bioFormModalContainer:"About_bioFormModalContainer__2-1XQ",bioForm:"About_bioForm__1GLt_",bioTextarea:"About_bioTextarea__6FO4v",bioModalFormClose:"About_bioModalFormClose__1AFLj",bioSubmitButton:"About_bioSubmitButton__iiqbM"}},7:function(e,t,n){e.exports={body:"AuthPages_body__2NWB2",signUpHeader:"AuthPages_signUpHeader__3zUu3",signUpheaderContainer:"AuthPages_signUpheaderContainer__2vkBQ",loginHeaderContainer:"AuthPages_loginHeaderContainer__38gzg",activeDisplayCircle:"AuthPages_activeDisplayCircle__2OFxy",inactiveDisplayCircle:"AuthPages_inactiveDisplayCircle__BCPQZ",signUpformContainer:"AuthPages_signUpformContainer__3Z04K",loginFormContainer:"AuthPages_loginFormContainer__2XdXp",bottomContainer:"AuthPages_bottomContainer__1OAKh",circleContainer:"AuthPages_circleContainer__2I0q9",contentContainer:"AuthPages_contentContainer__3RREg",userInfoOnscreen:"AuthPages_userInfoOnscreen__1VVTW",initialUserInfoOnscreen:"AuthPages_initialUserInfoOnscreen__YP1lh",mapOnscreen:"AuthPages_mapOnscreen__1O2BX",userInfoOffscreen:"AuthPages_userInfoOffscreen__3RnKO",mapOffscreen:"AuthPages_mapOffscreen__1LrFF",userInfoForm:"AuthPages_userInfoForm__2f_zC",bottomButton:"AuthPages_bottomButton__wTAkR",loginText:"AuthPages_loginText__2k-zB",linkText:"AuthPages_linkText__1Dw9U",leftContainer:"AuthPages_leftContainer__hD1Md",authRight:"AuthPages_authRight__3EXx5",authErrors:"AuthPages_authErrors__2KAjB",loginForm:"AuthPages_loginForm__1WrME",loginFormWrapper:"AuthPages_loginFormWrapper__2vl7f",loginSubmitWrapper:"AuthPages_loginSubmitWrapper__283wN",loginBottomText:"AuthPages_loginBottomText__36Tyi",loginErrors:"AuthPages_loginErrors__Ox_Mi",loginErrorWrapper:"AuthPages_loginErrorWrapper__3mtNV"}},84:function(e,t,n){e.exports=n(157)},89:function(e,t,n){},9:function(e,t,n){e.exports={recordingsContainer:"Recordings_recordingsContainer__ae3ZA",recordingsHeaderContainer:"Recordings_recordingsHeaderContainer__3GywX",recordingsHeader:"Recordings_recordingsHeader__2ec8m",addRecordingButton:"Recordings_addRecordingButton__1CVVH",loading:"Recordings_loading__2_gjh",recordingHeaderContainer:"Recordings_recordingHeaderContainer__3TkRZ",recordingDescriptionContainer:"Recordings_recordingDescriptionContainer__E5QFQ",recordingDescription:"Recordings_recordingDescription__kV5QK",recordingContainer:"Recordings_recordingContainer__1vN4-",firstRecording:"Recordings_firstRecording__Lc0cX",recordingContentContainer:"Recordings_recordingContentContainer__1Tumr",recordingInnerContainer:"Recordings_recordingInnerContainer__1Less",addRecording:"Recordings_addRecording__3yTmP",recordingTitle:"Recordings_recordingTitle__4kHW6",aboutRecordingHeader:"Recordings_aboutRecordingHeader__1s-BA",editButton:"Recordings_editButton__1QxGl",addModalFormContainer:"Recordings_addModalFormContainer__2N28x",rec_modal:"Recordings_rec_modal__3VJ3n",editModalFormContainer:"Recordings_editModalFormContainer__3NoUa",modalFormClose:"Recordings_modalFormClose__3_T8x",descriptionForm:"Recordings_descriptionForm__2mOza",addRecordingForm:"Recordings_addRecordingForm__3v89R",editRecordingForm:"Recordings_editRecordingForm__x9KiH",modalFormTitle:"Recordings_modalFormTitle__1t1YB",submitButton:"Recordings_submitButton__39HO6",recordingErrors:"Recordings_recordingErrors__3vfS9",addRecordingErrorWrapper:"Recordings_addRecordingErrorWrapper__1raee",editRecordingErrorWrapper:"Recordings_editRecordingErrorWrapper__BlW5N",recordingPlaceholderContainer:"Recordings_recordingPlaceholderContainer__4rIUK",recordingPlaceholderText:"Recordings_recordingPlaceholderText__2tIaq",deleteRecordingButton:"Recordings_deleteRecordingButton__32yEl"}}},[[84,1,2]]]);
//# sourceMappingURL=main.d507f1b5.chunk.js.map